!function(t,i,e,s){"use strict";var n="asAccordion",a={transition:function(){var e,n,a="",r=!1,o=i.createElement("fakeelement"),l={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionend",transition:"transitionend"};for(e in l)if(o.style[e]!==s){n=l[e],r=!0;break}return/(WebKit)/i.test(t.navigator.userAgent)&&(a="-webkit-"),{prefix:a,end:n,supported:r}}},r=e[n]=function(t,i){this.element=t,this.$element=e(t),this.options=e.extend({},r.defaults,i,this.$element.data()),this._plugin=n,this.namespace=this.options.namespace,this.initialIndex=this.options.initialIndex,this.initialized=!1,this.disabled=!1,this.actived=!1,this.current=null,this.classes={skin:this.namespace+"--"+this.options.skin,direction:this.namespace+"--"+this.options.direction,active:this.namespace+"--active",disabled:this.namespace+"--disabled"},this.$panel=this.$element.children("li"),this.$heading=this.$panel.children("span"),this.$expander=this.$panel.children("div"),this.size=this.$panel.length,this.$element.addClass(this.classes.direction),this.$panel.addClass(this.namespace+"__panel"),this.$heading.addClass(this.namespace+"__heading"),this.$expander.addClass(this.namespace+"__expander"),this.options.skin&&this.$element.addClass(this.classes.skin),this.transition=a.transition(),this._trigger("init"),this.init()};r.prototype={constructor:r,init:function(){var i=this,s={};this.distance=this.$heading.outerHeight(),"vertical"===this.options.direction?this.animateProperty="height":this.animateProperty="width",s[this.animateProperty]=this.distance,this.$panel.css(s),this.$heading.on(this.options.event,function(t){if(i.disabled)return!1;var s=e(t.currentTarget).parent().index();return i.set(s),!1}),this.set(this.initialIndex),this.current=this.initialIndex,this.responsive.init(this),e(t).on("resize",this._throttle(function(){i.responsive.init(i)},250)),this.initialized=!0,this._trigger("ready")},_trigger:function(t){var i=Array.prototype.slice.call(arguments,1),e=[this].concat(i);this.$element.trigger("asAccordion::"+t,e),t=t.replace(/\b\w+\b/g,function(t){return t.substring(0,1).toUpperCase()+t.substring(1)});var s="on"+t;"function"==typeof this.options[s]&&this.options[s].apply(this,i)},responsive:{init:function(t){if(e("html, body").outerWidth()<=t.options.mobile_breakpoint){if("vertical"===t.options.direction)return!1;this.resize(t)}else{if("undefined"==typeof t.default_direction||"vertical"===t.default_direction)return!1;this.resize(t)}},resize:function(t){var i={};if(t.default_direction=t.options.direction,"vertical"===t.options.direction?(t.options.direction="horizontal",t.animateProperty="width",t.$panel.css("height","100%")):(t.options.direction="vertical",t.animateProperty="height",t.$panel.css("width","auto")),t.$element.removeClass(t.classes.direction),t.classes.direction=t.namespace+"--"+t.options.direction,t.$element.addClass(t.classes.direction),i[t.animateProperty]=t.distance,t.$panel.css(i),"undefined"!=typeof t.current){var e=t.current;t.current=null,t.set(e)}}},set:function(t){var i,e,s=this,n=this.$panel.eq(t),a=this.$element.find("."+this.classes.active),r={},o={},l=function(){"function"==typeof callback&&callback.call(s),s.$element.trigger("moveEnd")};"undefined"==typeof e&&(e=this.options.speed),e=Math.ceil(e),t===this.current?(this.current=null,i=this.distance,n.removeClass(this.classes.active)):(t>=this.size?t=this.size-1:0>t&&(t=0),i="vertical"===this.options.direction?n.find("."+this.namespace+"__expander").outerHeight()+this.distance:n.find("."+this.namespace+"__expander").outerWidth()+this.distance,this.current=t,o[this.animateProperty]=this.distance,this.animate(a,o,e,this.options.easing,l),n.addClass(this.classes.active).siblings().removeClass(this.classes.active)),r[this.animateProperty]=i,this.animate(n,r,e,s.options.easing,l)},animate:function(i,e,s,n,a){var r=this;this.transition.supported?t.setTimeout(function(){r.insertRule(".transition_"+n+" {"+r.transition.prefix+"transition: all "+s+"ms "+n+" 0s;}"),i.addClass("transition_"+n).one(r.transition.end,function(){i.removeClass("transition_"+n),a.call(this)}),i.css(e)},10):i.animate(e,s,n,a)},insertRule:function(t){if(!this.rules||!this.rules[t])if(this.rules===s?this.rules={}:this.rules[t]=!0,i.styleSheets&&i.styleSheets.length)i.styleSheets[0].insertRule(t,0);else{var e=i.createElement("style");e.innerHTML=t,i.head.appendChild(e)}},_throttle:function(t,i){var e,s,n,a=Date.now||function(){return(new Date).getTime()},r=null,o=0,l=function(){o=a(),r=null,n=t.apply(e,s),e=s=null};return function(){var h=a(),c=i-(h-o);return e=this,s=arguments,0>=c?(clearTimeout(r),r=null,o=h,n=t.apply(e,s),e=s=null):r||(r=setTimeout(l,c)),n}},enable:function(){this.disabled=!1,this.$element.removeClass(this.classes.disabled)},disable:function(){this.disabled=!0,this.$element.addClass(this.classes.disabled)},destory:function(){this.$element.data(n,null),this.$element.remove(),this._trigger("destory")}},r.defaults={namespace:n,skin:null,mobile_breakpoint:979,initialIndex:0,easing:"ease-in-out",speed:500,direction:"vertical",event:"click"},e.fn[n]=function(t){if("string"!=typeof t)return this.each(function(){e.data(this,n)||e.data(this,n,new r(this,t))});var i=t,s=Array.prototype.slice.call(arguments,1);if(/^\_/.test(i))return!1;if("get"!==i)return this.each(function(){var t=e.data(this,n);t&&"function"==typeof t[i]&&t[i].apply(t,s)});var a=this.first().data(n);return a&&"function"==typeof a[i]?a[i].apply(a,s):void 0}}(window,document,jQuery);